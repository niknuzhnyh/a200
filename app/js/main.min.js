const startScreen=document.querySelector(".startScreen"),questionItem=document.querySelector(".card_item");let userOld=JSON.parse(localStorage.getItem("userInfo")),answersOld=JSON.parse(localStorage.getItem("answers")),curentSectionClassName="descriptionScreen";const first_name=document.getElementById("first_name"),second_name=document.getElementById("second_name"),last_name=document.getElementById("last_name"),genderGroup=document.getElementsByName("genderGroup"),birthdate=document.getElementById("birthdate"),inputsCollection=document.getElementsByTagName("input"),formBtn=document.getElementById("formBtn"),nextBtns=document.getElementsByClassName("nextBtn"),yesBtn=document.getElementById("yes"),noBtn=document.getElementById("no"),userInfo={};let answers={},questionCount=1;const cardTitle=document.querySelector(".card-title");if(answersOld){const e="У вас не закінчений тест",t=`ПІБ : ${userOld.last_name} ${userOld.first_name} ${userOld.second_name} .<br> Бажаете продовжити ?`;curentSectionClassName="interview",cardTitle.innerHTML=`${e}<br> ${t}`}function getCurentSection(e){return document.querySelector(`.${e}`)}for(let e=0;e<genderGroup.length;e++){const t=genderGroup[e];t.addEventListener("change",(()=>{userInfo.gender=t.value}))}for(let e=0;e<inputsCollection.length;e++){inputsCollection[e].addEventListener("change",(()=>{first_name.value&&second_name.value&&last_name.value&&birthdate.value&&userInfo.gender?formBtn.disabled=!1:formBtn.disabled=!0}))}function answerHandler(e,t){questionItem.classList.remove("animate__backInRight"),questionItem.classList.add(e),answers[questionCount]=t,questionCount++,setTimeout((()=>{cardRender()}),200),setTimeout((()=>{questionItem.classList.remove(e),questionItem.classList.add("animate__backInRight")}),400),localStorage.setItem("answers",JSON.stringify(answers))}function answerContinueHandler(e,t){if(questionItem.classList.remove("animate__backInRight"),questionItem.classList.add(e),t)return setTimeout((()=>{questionCount=Object.keys(answersOld).length,questionCount++,console.log(answersOld),answers=answersOld,answersOld=!1,cardRender()}),200),void setTimeout((()=>{questionItem.classList.remove(e),questionItem.classList.add("animate__backInRight")}),400)}formBtn.addEventListener("click",(e=>{e.preventDefault(),userInfo.first_name=first_name.value,userInfo.second_name=second_name.value,userInfo.last_name=last_name.value,userInfo.birthdate=birthdate.value,localStorage.setItem("userInfo",JSON.stringify(userInfo))})),yesBtn.addEventListener("click",(()=>{answersOld&&answerContinueHandler("animate__backOutLeft",!0),answerHandler("animate__backOutLeft",!0)})),noBtn.addEventListener("click",(()=>{answersOld&&answerContinueHandler("animate__backOutDown",!1),answerHandler("animate__backOutDown",!1)}));for(let e=0;e<nextBtns.length;e++){const t=nextBtns[e],n=t.closest("section");t.addEventListener("click",(()=>{window.scroll(0,0),n.classList.add("hidd"),n.nextElementSibling.classList.remove("hidd")}))}function cardRender(){cardTitle.innerHTML=`${questionCount}. ${questions[questionCount]}`}function hidePreloader(){setTimeout((()=>{startScreen.classList.add("hidd"),getCurentSection(curentSectionClassName).classList.remove("hidd")}),1e3)}hidePreloader();